<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Product Comments</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular.min.js"></script>
    </head>
    <body>

        <main class="container-fluid" ng-app="CommentsApp" ng-controller="CommentsController">
            <section>
                <h1>The Cornballer</h1>
                <img src="img/cornballer.jpg" alt="product picture" class="product-picture">

                <h3>Soy loco por los Cornballs!!!</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi commodi, dolorum earum esse eum
                    excepturi in iusto laborum, magni natus necessitatibus neque nobis nostrum perferendis quae quaerat,
                    qui recusandae repellat!</p>

                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores aut beatae consequatur distinctio
                    nihil quo, ratione reprehenderit? Beatae, blanditiis delectus deleniti, dicta dolor dolore expedita
                    modi necessitatibus quae, suscipit voluptatum!</p>
            </section>

            <div class="spacing"></div>

            <section>
                <div class="alert alert-danger" role="alert" id="errorMessage">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error: </span>Please check that you have entered both a Title and a Comment.
                </div>
                <h2>Add a Comment <img src="img/ajax-spinner.gif" ng-if="loading || updating || inserting" alt=""/></h2>

                <form>
                    <div class="form-group">
                        <label for="title">Title</label>
                        <input type="text" id="title" class="form-control"
                                placeholder="title of new comment" ng-model="newComment.title"/>
                    </div>

                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" class="form-control"
                               placeholder="your name" ng-model="newComment.name"/>
                    </div>


                    <div class="form-group">
                        <label for="rating">Rating</label>
                        <p><rating max="5" id="rating" ng-model="newComment.rating"></rating></p>
                    </div>

                    <div class="form-group">
                        <label for="body">Comment</label>
                        <!--<input type="text" id="body" class="form-control"-->
                                <!--/>-->
                        <textarea class="form-control" id="body" rows="3" placeholder="comment text"
                                  ng-model="newComment.body"></textarea>
                    </div>

                    <button type="submit" class="btn btn-success"
                            ng-click="addComment()">Add a Comment</button>
                </form>
            </section>

            <section>
                <h2>Comments</h2>
                <p id="no-comments">No comments yet. Be the first to review this!</p>


                            <!--<th>Title</th>-->
                            <!--<th>Rating</th>-->
                            <!--<th>Author</th>-->
                            <!--<th>Comment</th>-->
                            <!--<th>Score</th>-->
                          <!---->
                <ul>
                        <li ng-repeat="comment in comments">
                            <h3>{{comment.title}}</h3>

                            <p>
                                <rating max="5" ng-model="comment.rating"
                                        ng-change="updateComment(comment)" readonly="comment.objectId">
                                </rating>
                            </p>

                            <p><strong>Review by:</strong> {{comment.name || 'anonymous'}}</p>
                            <p>{{comment.body}}</p>
                            <p>{{(comment.score > 0) ? comment.score: 0 + '  '}}
                                <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementVotes(comment, 1)"></span>
                                <span class="glyphicon glyphicon-thumbs-down" ng-click="incrementVotes(comment, -1)"></span>
                            </p>
                            <p><button class="btn btn-danger" ng-click="deleteComment(comment)">Delete</button></p>
                        </li>
                </ul>

                <!-- 
                display existing comments here
                each comment should also have UI allowing the user to vote up/down the comment
                as well as delete it
                 -->
            </section>

        </main>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="lib/ui-bootstrap-tpls-0.11.0.min.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>